<style id="antiClickjack">body{display:none !important;}</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
</script>
<div ng-controller="UploadCtrl" style="margin:10px">

	<div class="row">

        <div  class="col-md-4" >
            <div class="panel panel-info">
	            <div class="panel-heading">Upload Test Steps</div>      
	            <div class="panel-body">
	            <label class="btn btn-default btn-info" style="width:200px; text-align:left">
				    <i class="fa fa-file" aria-hidden="true"></i> Select profile file <input type="file" nv-file-select uploader="profileUploader" style="display: none;">
				</label> {{profileUploader.queue.length}} profile file selected
				<br>
				<br>
				<label class="btn btn-default btn-info" style="width:200px; text-align:left">
				    <i class="fa fa-file" aria-hidden="true"></i> Select value set file(s) <input type="file" nv-file-select uploader="vsUploader" multiple style="display: none;">
				</label> {{vsUploader.queue.length}} value set file<span ng-show="vsUploader.queue.length >1">s</span> selected
				<br>
				<br>
				<label class="btn btn-default btn-info" style="width:200px; text-align:left">
				    <i class="fa fa-file" aria-hidden="true"></i> Select constraint file(s) <input type="file" nv-file-select uploader="constraintsUploader" multiple style="display: none;">
				</label> {{constraintsUploader.queue.length}} contraint file<span ng-show="constraintsUploader.queue.length >1">s</span> selected
	                     
	           <div>
                    <h3>Upload queue:</h3>
                    <div>
	                    <table class="table table-condensed table-bordered">
	                        <thead class="tbl-header">
	                            <tr>
	                                <th style="width:50%">Name</th>
	                                <th ng-show="profileUploader.isHTML5">Size</th>
	                                <th ng-show="profileUploader.isHTML5">Progress</th>
	                                <th>Status</th>
	                                <th>Actions</th>
	                            </tr>
	                        </thead>
	                        <tbody>
	                        	<tr ng-show="profileUploader.queue.length"><td class="dark-gray bold" colspan="5">Profile</td></tr>
	                            <tr ng-repeat="item in profileUploader.queue">
	                                <td style="word-break:break-all;vertical-align:middle">{{ item.file.name }}</td>
	                                <td style="word-wrap:break-all;vertical-align:middle" ng-show="profileUploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
	                                <td style="word-wrap:break-all;vertical-align:middle" ng-show="profileUploader.isHTML5">
	                                    <div class="progress" style="margin-bottom: 0;">
	                                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
	                                    </div>
	                                </td>
	                                <td style="word-wrap:break-all; vertical-align:middle" class="text-center">
	                                    <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
	                                    <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
	                                    <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
	                                </td>
	                                <td style="word-wrap:break-all; vertical-align:middle">
	                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
	                                        <span class="glyphicon glyphicon-trash"></span> Remove
	                                    </button>
	                                </td>
	                            </tr>
	                            <tr ng-show="vsUploader.queue.length"><td class="dark-gray bold" colspan="5">Value sets</td></tr>
	                            <tr ng-repeat="item in vsUploader.queue">
	                                <td style="word-break:break-all;vertical-align:middle" >{{ item.file.name }}</td>
	                                <td style="word-break:break-all;vertical-align:middle" ng-show="vsUploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
	                                <td style="word-break:break-all;vertical-align:middle" ng-show="vsUploader.isHTML5">
	                                    <div class="progress" style="margin-bottom: 0;">
	                                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
	                                    </div>
	                                </td>
	                                <td style="word-break:break-all;vertical-align:middle" class="text-center">
	                                    <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
	                                    <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
	                                    <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
	                                </td>
	                                <td style="word-break:break-all; vertical-align:middle">                               	
	                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
	                                        <span class="glyphicon glyphicon-trash"></span> Remove
	                                    </button>
	                                </td>
	                            </tr>
	                            <tr ng-show="constraintsUploader.queue.length"><td class="dark-gray bold" colspan="5">Constraints</td></tr>
	                            <tr ng-repeat="item in constraintsUploader.queue">
	                                <td style="word-break:break-all;vertical-align:middle">{{ item.file.name }}</td>
	                                <td style="word-break:break-all;vertical-align:middle" ng-show="constraintsUploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
	                                <td style="word-break:break-all;vertical-align:middle" ng-show="constraintsUploader.isHTML5">
	                                    <div class="progress" style="margin-bottom: 0;">
	                                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
	                                    </div>
	                                </td>
	                                <td style="word-break:break-all;vertical-align:middle" class="text-center">
	                                    <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
	                                    <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
	                                    <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
	                                </td>
	                                <td style="word-break:break-all; vertical-align:middle" >                                
	                                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
	                                        <span class="glyphicon glyphicon-trash"></span> Remove
	                                    </button>
	                                </td>
	                            </tr>
	                        </tbody>
	                    </table>
	                    <div>
	                        <div>
	                            Queue progress:
	                            <div class="progress" style="">
	                                <div class="progress-bar" role="progressbar" ng-style="{ 'width': getTotalProgress() + '%' }"></div>
	                            </div>
	                        </div>
	                        <button type="button" class="btn btn-success btn-s" ng-click="upload()" ng-disabled="!(profileUploader.getNotUploadedItems().length)">
	                            <span class="glyphicon glyphicon-upload"></span> Upload all
	                        </button>
	                         <button type="button" class="btn btn-danger btn-s" ng-click="remove()" ng-disabled="!(profileUploader.queue.length + vsUploader.queue.length +constraintsUploader.queue.length)">
	                            <span class="glyphicon glyphicon-trash"></span> Remove all
	                        </button>
	                    </div>
	                 </div>
                    </div>
        		</div>
        	</div>
        </div>
        <div class="col-md-8">
          	 <div class="panel panel-info">
          	 <div class="panel-heading">Test Case</div>  
          	  <div class="panel-body" ng-show="profileMessages.length">
          	 	
          		<label for="id1">Test Case Name:</label><input id="testcasename" ng-model="testcase.name" class="input-sm ng-pristine ng-valid ng-empty ng-touched">
				<div class="panel-body">
					<table class="table table-striped table-condensed table-bordered" >
		                <thead class="tbl-header">
		                <th width="30px">
		                    <input ng-click="profileCheckToggle()" ng-model="profileCheckToggleStatus" ng-checked="{{profileCheckToggleStatus}}"   type="checkbox">
		                </th>
		                <th>Name</th>
		                <th>Id</th>
		                <th>Description</th>
		                <th>Type</th>
		                <th>Event</th>
		                <th>StructID</th>
		                <th>Identifier</th>
		                 </thead>
		                <tbody>
			                <tr ng-repeat="item in profileMessages">
			                    <td>
			                        <input ng-disabled="false" type="checkbox" ng-model="item.activated" ng-checked="{{item.activated}}">
			                   	</td>
			                    <td>
			                    	<input ng-model="item.name" style="width: 100%;">
			                    </td>
			                    <td>
			                    	{{item.id}}
			                    </td>
			                    <td>
			                    	{{item.description}}
			                    </td>
			                    <td>
			                    	{{item.type}}
			                    </td>
			                    <td>
			                    	{{item.event}}
			                    </td>
			                    <td>
			                    	{{item.structID}}
			                    </td>
			                    <td>
			                    	{{item.identifier}}
			                    </td>
			                </tr>
	                	</tbody>
	            	</table>
	            </div>
            	<br>
            	<button type="button" class="btn btn-success btn-s" ng-click="addSelectedTestCases()" ng-show="profileMessages.length" ng-disabled="!getSelectedTestcases().length">
					Add selected test cases
                </button>
                <button type="button" class="btn btn-success btn-s" ng-click="clearTestCases()" ng-show="profileMessages.length">
					Clear all test cases
                </button>
            </div>
            </div>
        </div>

    </div>


</div>