<div ng-controller="CFVocabularyCtrl" ng-init="init()">
<div class="row" style="margin-top:20px">
<div ng-show="!loading">
<div ng-show="cf.testCase != null">
<div ng-show="valueSetDefinitionGroups != null && valueSetDefinitionGroups.length > 0">
<div class="col-md-4">
    <div class="panel panel-info">
        <!-- Default panel contents -->
        <div class="panel-heading"><i class="glyphicon glyphicon-list"></i> ValueSet Library
        </div>

        <div class="panel-body">
            <div ng-show="error == null">
                <tabset>
                    <tab ng-repeat="valueSetDefinitionGroup in valueSetDefinitionGroups"
                         heading="{{valueSetDefinitionGroup.name}}">
                        <!--<div ng-show="valueSetDefinitionGroup.children!= null && valueSetDefinitionGroup.children.length > 1">-->
                        <!--<tabset>-->
                        <!--<tab ng-repeat="lib in valueSetDefinitionGroup.children"-->
                        <!--heading="{{lib.name}}">-->
                        <!--<div ng-controller="CFVocabularyTabCtrl"-->
                        <!--ng-init="init(lib)">-->
                        <!--<div ng-show="tableList != null" class="iz-vocab-table">-->
                        <!--<table st-table="tmpList" st-safe-src="tableList"-->
                        <!--class="table table-striped table-bordered ng-table-text stTable">-->
                        <!--<thead>-->
                        <!--<tr class="tbl-header">-->
                        <!--<th class="col-fixed-150" st-sort="id">Table Id</th>-->
                        <!--<th st-sort="name">Value Set Name</th>-->
                        <!--</tr>-->
                        <!--<tr>-->
                        <!--&lt;!&ndash;<th>&ndash;&gt;-->
                        <!--&lt;!&ndash;<input st-search="'path'" placeholder="search for path" class="input-sm form-control" type="search"/>&ndash;&gt;-->
                        <!--&lt;!&ndash;</th>&ndash;&gt;-->
                        <!--<th colspan="2">-->
                        <!--<input st-search placeholder="Search"-->
                        <!--class="input-sm form-control" type="search"/>-->
                        <!--</th>-->
                        <!--</tr>-->
                        <!--</thead>-->
                        <!--<tbody>-->

                        <!--<tr ng-repeat="row in tmpList">-->
                        <!--<td class="col-fixed-150">-->
                        <!--<a class="point" ng-show="row.id"-->
                        <!--ng-click="selectValueSetDefinition(row, lib)" ng-bind="row.id"></a>-->
                        <!--<span ng-show="row.id == null">N/A</span>-->
                        <!--</td>-->
                        <!--<td>-->
                        <!--<span ng-show="row.name" ng-bind="row.name"></span>-->
                        <!--<span ng-show="row.name == null">N/A</span>-->
                        <!--</td>-->
                        <!--</tr>-->
                        <!--</tbody>-->

                        <!--&lt;!&ndash;<tfoot>&ndash;&gt;-->
                        <!--&lt;!&ndash;<tr>&ndash;&gt;-->
                        <!--&lt;!&ndash;<td colspan="2" class="text-center">&ndash;&gt;-->
                        <!--&lt;!&ndash;<div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>&ndash;&gt;-->
                        <!--&lt;!&ndash;</td>&ndash;&gt;-->
                        <!--&lt;!&ndash;</tr>&ndash;&gt;-->
                        <!--&lt;!&ndash;</tfoot>&ndash;&gt;-->

                        <!--</table>-->
                        <!--</div>-->
                        <!--</div>-->
                        <!--</tab>-->
                        <!--</tabset>-->
                        <!--</div>-->

                        <!--<div ng-show="valueSetDefinitionGroup.children!= null && valueSetDefinitionGroup.children.length == 1">-->
                        <div ng-controller="CFVocabularyTabCtrl"
                             ng-init="init(valueSetDefinitionGroup)">
                            <div class="iz-vocab-table">
                                <table st-table="tmpList" st-safe-src="tableList"
                                       class="table table-striped table-bordered ng-table-text stTable">
                                    <thead>
                                    <tr class="tbl-header">
                                        <th class="col-fixed-150" st-sort="bindingIdentifier">Table Id</th>
                                        <th st-sort="name">Value Set Name</th>
                                    </tr>
                                    <tr>
                                        <th colspan="2">
                                            <input st-search placeholder="Search" class="input-sm form-control"
                                                   type="search"/>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>

                                    <tr ng-repeat="row in tmpList">
                                        <td class="col-fixed-150">
                                            <a class="point" ng-show="row.bindingIdentifier"
                                               ng-click="selectValueSetDefinition(row,tableLibrary)" ng-bind="row.bindingIdentifier"></a>
                                            <span ng-show="row.bindingIdentifier == null">N/A</span>
                                        </td>
                                        <td>
                                            <span ng-show="row.name" ng-bind="row.name"></span>
                                            <span ng-show="row.name == null">N/A</span>
                                        </td>
                                    </tr>
                                    </tbody>

                                    <!--<tfoot>-->
                                    <!--<tr>-->
                                    <!--<td colspan="2" class="text-center">-->
                                    <!--<div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div>-->
                                    <!--</td>-->
                                    <!--</tr>-->
                                    <!--</tfoot>-->
                                </table>
                            </div>
                        </div>
                        <!--</div>-->
                    </tab>
                </tabset>
            </div>

            <div ng-show="error != null">
                <div class="alert alert-danger" role="alert" ng-bind="error"></div>
            </div>

        </div>
    </div>


</div>
<div class="col-md-8">
<div>
<div class="">
<div id="messagePanel" class="panel panel-info">
<!-- Default panel contents -->
<div class="panel-heading"><i class="glyphicon glyphicon-file"></i> Value Set Information
</div>


<div class="panel-body vocab-search-result">

<form class="form-inline" name="searchValueForm" ng-submit="searchTableValues()">
    <input type="text" ng-model="searchString" placeholder="Value"/>
    <select ng-model="selectionCriteria" required ng-change="clearSearchResults()">
        <option value="TableId">Table Id</option>
        <option value="Value">Value (Code)</option>
        <option value="ValueSetCode">Value Set Code</option>
        <option value="ValueSetName">Value Set Name</option>
        <option value="Description">Description</option>
    </select>
    <button type="button" class="btn btn-sm btn-primary" ng-disabled="searchString == ''"
            ng-click="searchTableValues()">
        <i class="fa fa-search"></i>
        Search
    </button>
</form>

<br/>


<div ng-show="vocabResError != null">
    <div class="alert alert-danger" role="alert"
         ng-bind="vocabResError"></div>
</div>

<div ng-show="vocabResError == null">
    <div ng-show="searchResults != null && searchResults.length > 0">
        <div class="divScroll-1">
            <div class="iz-vocab-table-result" ng-show="selectionCriteria === 'TableId' || selectionCriteria === 'ValueSetCode' || selectionCriteria === 'ValueSetName'">
                <table st-table="tmpSearchResults" st-safe-src="searchResults"
                       class="table table-striped table-bordered ng-table-text stTable">
                    <thead>
                    <tr class="tbl-header">
                        <th class="col-fixed-150" st-sort="bindingIdentifier">Binding Id</th>
                        <th class="col-fixed-150" st-sort="name">ValueSet Name</th>
                        <th class="col-fixed-150" st-sort="description">Description</th>
                        <th class="col-fixed-150" st-sort="version">ValueSet Version</th>
                        <th class="col-fixed-150" st-sort="oid"> Value Set OID</th>
                    </tr>
                    <tr>
                        <th colspan="6">
                            <input st-search placeholder="Search" class="input-sm form-control" type="search"/>
                        </th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr ng-repeat="row in tmpSearchResults">
                        <td class="col-fixed-150">
                            <a ng-show="row.bindingIdentifier" ng-click="selectValueSetDefinition2(row)" ng-bind="row.bindingIdentifier"></a>
                        </td>

                        <td class="col-fixed-150">
                            <span ng-show="row.name" ng-bind="row.name"></span>
                            <span ng-show="row.name == null">N/A</span>
                        </td>

                        <td class="col-fixed-150">
                            <span ng-show="row.description" ng-bind="row.description"></span>
                            <span ng-show="row.description == null">N/A</span>
                        </td>


                        <td class="col-fixed-150">
                            <span ng-show="row.version" ng-bind="row.version"></span>
                            <span ng-show="row.version == null">N/A</span>
                        </td>

                        <td>
                            <span ng-show="row.oid" ng-bind="row.oid"></span>
                            <span ng-show="row.oid == null">N/A</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="iz-vocab-table-result"  ng-show="selectionCriteria === 'Value' || selectionCriteria === 'Description'">
                <table st-table="tmpSearchResults" st-safe-src="searchResults"
                       class="table table-striped table-bordered ng-table-text stTable">
                    <thead>
                    <tr class="tbl-header">
                        <th class="col-fixed-150" st-sort="value">Value</th>
                        <th class="col-fixed-150" st-sort="codeSystem">Code System</th>
                        <th class="col-fixed-150" st-sort="displayName">Description</th>
                        <!--<th class="col-fixed-150" st-sort="source">Source</th>-->
                        <!--<th class="col-fixed-150" st-sort="usageType">Usage</th>-->
                    </tr>
                    <tr>
                        <th colspan="6">
                            <input st-search placeholder="Search" class="input-sm form-control" type="search"/>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="row in tmpSearchResults">
                        <td class="col-fixed-150">
                            <span>{{row.value}}</span>
                        </td>
                        <td class="col-fixed-150">
                            <span>{{row.codeSystem}}</span>
                        </td>

                        <td class="col-fixed-150">
                            <span>{{row.displayName}}</span>
                        </td>
                        <!--<td class="col-fixed-150">-->
                        <!--<span>{{row.source}}</span>-->
                        <!--</td>-->

                        <!--<td class="col-fixed-150">-->
                        <!--<span>{{row.usageType}}</span>-->
                        <!--</td>-->
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div ng-show="selectedValueSetDefinition != null">
        <div class="panel panel-info">
            <!-- Default panel contents -->
            <div class="panel-heading">Value Set Attributes</div>
            <!-- Table -->
            <table class="table table-bordered">
                <tr ng-show="selectedValueSetDefinition.bindingIdentifier != null && selectedValueSetDefinition.bindingIdentifier != ''">
                    <td>Table Id</td>
                    <td ng-bind="selectedValueSetDefinition.bindingIdentifier"></td>
                </tr>
                <tr ng-show="selectedValueSetDefinition.name != null && selectedValueSetDefinition.name != ''">
                    <td>Value Set Name</td>
                    <td ng-bind="selectedValueSetDefinition.name"></td>
                </tr>

                <tr ng-show="selectedValueSetDefinition.description != null && selectedValueSetDefinition.description != ''">
                    <td>Value Set Description</td>
                    <td ng-bind="selectedValueSetDefinition.description"></td>
                </tr>

                <tr>
                    <td>Value Set Version</td>
                    <td ng-bind="selectedValueSetDefinition.version"></td>
                </tr>

                <tr>
                    <td>Code System</td>
                    <td ng-bind="selectedValueSetDefinition.codeSystem"></td>
                </tr>

                <tr ng-show="selectedValueSetDefinition.oid != '' &&  selectedValueSetDefinition.oid != null">
                    <td>Value Set OID</td>
                    <td>
                        <a class="point"
                           ng-href="'http://phinvads.cdc.gov/vads/ViewValueSet.action?oid={{selectedValueSetDefinition.oid}}'">{{selectedValueSetDefinition.oid}}</a>
                    </td>
                </tr>
                <tr ng-show="selectedValueSetDefinition.type != null && selectedValueSetDefinition.type != ''">
                    <td>Table Type</td>
                    <td ng-bind="selectedValueSetDefinition.type"></td>
                </tr>
            </table>
                                    <span style="color:red; font-weight:bold;"
                                          ng-show="isNoValidation()">This table will not be validated.
                                    </span>
        </div>
        <div class="divScroll-1">
            <div class="iz-vocab-table-result">
                <table st-table="tmpValueSetElements" st-safe-src="selectedValueSetDefinition.valueSetElements"
                       class="table table-striped table-bordered ng-table-text stTable">
                    <thead>
                    <tr class="tbl-header">
                        <th class="col-fixed-150" st-sort="code">Code</th>
                        <th class="col-fixed-150" st-sort="codeSystem">Code System</th>
                        <th class="col-fixed-150" st-sort="displayName">Description</th>
                        <!--<th class="col-fixed-150" st-sort="source">Source</th>-->
                        <!--<th class="col-fixed-150" st-sort="usageType">Usage</th>-->
                    </tr>
                    <tr>
                        <th colspan="3">
                            <input st-search placeholder="Search" class="input-sm form-control" type="search"/>
                        </th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr ng-repeat="row in tmpValueSetElements">
                        <td class="col-fixed-150">
                            <span>{{row.value}}</span>
                        </td>
                        <td class="col-fixed-150">
                            <span>{{row.codeSystem}}</span>
                        </td>

                        <td class="col-fixed-150">
                            <span>{{row.displayName}}</span>
                        </td>
                        <!--<td class="col-fixed-150">-->
                        <!--<span>{{row.source}}</span>-->
                        <!--</td>-->

                        <!--<td class="col-fixed-150">-->
                        <!--<span>{{row.usageType}}</span>-->
                        <!--</td>-->
                    </tr>
                    </tbody>
                </table>

            </div>

        </div>

    </div>

</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div ng-show="valueSetDefinitionGroups == null || valueSetDefinitionGroups.length == 0">
    <div class="col-md-10"> No Vocabulary Library found.</div>
</div>
</div>

<div ng-show="cf.testCase.testContext.id == null">
    <div class="col-md-10"> No Profile Selected.</div>
</div>
</div>

<div ng-show="loading" style="text-align:center">
    <div class="col-md-10"><i class="fa fa-spinner fa-pulse fa-2x"></i><i class="fa fa-spinner fa-pulse fa-2x"></i></div>
</div>

</div>
</div>